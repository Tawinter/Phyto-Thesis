summarize_at(c("datavalue"), mean, na.rm = TRUE)
bavg_sal <- bfil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(bavg_sal)<- c("fct_inorder.MY.", "salinity")
colnames(cavg_sal)<- c("fct_inorder.MY.", "salinity")
colnames(uavg_sal)<- c("fct_inorder.MY.", "salinity")
salinity <- full_join(salinity, bavg_sal, by = c('fct_inorder.MY.'))
salinity <- full_join(cavg_sal, uavg_sal, by = c('fct_inorder.MY.'))
salinity <- full_join(salinity, bavg_sal, by = c('fct_inorder.MY.'))
View(salinity)
#Combining temperature dataframes
cavg_temp <- cfil_temp %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_temp <- ufil_temp %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
bavg_temp <- bfil_temp %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_temp)<- c("fct_inorder.MY.", "temperature")
colnames(uavg_temp)<- c("fct_inorder.MY.", "temperature")
colnames(bavg_temp)<- c("fct_inorder.MY.", "temperature")
temperature <- full_join(cavg_temp, uavg_temp, by = c('fct_inorder.MY.'))
temperature <- full_join(temperature, bavg_temp, by = c('fct_inorder.MY.'))
View(temperature)
cavg_tss <- cfil_tss %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_tss <- ufil_tss %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(tss)<- c("fct_inorder.MY.", "tss")
colnames(cavg_tss)<- c("fct_inorder.MY.", "tss")
colnames(uavg_tss)<- c("fct_inorder.MY.", "tss")
tss <- full_join(cavg_tss, uavg_tss, by = c('fct_inorder.MY.'))
View(tss)
View(uavg_tss)
tss <- tss %>% mutate(tss = coalesce(tss.x,tss.y)) %>%
select(`fct_inorder.MY.`, tss)
View(cmlnut)
cmlnut <- full_join(cmlnut, tss, by = c('fct_inorder.MY.'))
#Correcting cmlnut dataframe for new column additions
cmlnut <- subset( cmlnut, select = -tss.x )
#Correcting column names from new column additions to cmlnut dataframe
colnames(cmlnut)<- c("fct_inorder(MY)", "Alex(Sum)", "Large_PN(Sum)", "Small_PN(Sum)",
"Alex(avg)", "Large_PN(avg)", "Small_PN(avg)", "chla", "nitrogen", "phosphorus", "salinity",
"temperature", "silica", "tss")
#Write completed nutrient csv file
write.csv(cmlnut,'CML_Nut.csv', row.names = FALSE)
View(chla)
chla <- full_join(cavg_chla, savg_chla, by = c('fct_inorder.MY.'))
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
chla <- full_join(chla, oavg_chla, by = c('fct_inorder.MY.'))
View(chla)
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(cavg_chla, savg_chla, by = c('fct_inorder.MY.'))
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
chla <- full_join(chla, oavg_chla, by = c('fct_inorder.MY.'))
chla <- full_join(cavg_chla, savg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
View(cavg_chla)
View(savg_chla)
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
chla <- full_join(cavg_chla, savg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- left_join(chla, uavg_chla, by = c('fct_inorder.MY.'), x=TRUE)
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
View(uavg_chla)
uavg_chla <- subset(uavg_chla, "fct_inorder.MY."== May - 2018)
uavg_chla <- uavg_chla[-c(3:7), ]
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
chla <- full_join(cavg_chla, savg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, oavg_chla, by = c('fct_inorder.MY.'))
oavg_chla <- oavg_chla[-c(1:17), ]
chla <- full_join(cavg_chla, savg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, oavg_chla, by = c('fct_inorder.MY.'))
View(oavg_chla)
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, oavg_chla, by = c('fct_inorder.MY.'))
chla <- full_join(cavg_chla, savg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, oavg_chla, by = c('fct_inorder.MY.'))
oavg_chla <- oavg_chla[-c(1:17), ]
uavg_chla <- ufil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
oavg_chla <- ofil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
chla <- full_join(cavg_chla, savg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
#Taking averages and combining chlorophyll a dataframes
cavg_chla <- cfil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_chla <- ufil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
savg_chla <- sfil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
oavg_chla <- ofil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_chla)<- c("fct_inorder.MY.", "chla")
colnames(uavg_chla)<- c("fct_inorder.MY.", "chla")
colnames(savg_chla)<- c("fct_inorder.MY.", "chla")
colnames(oavg_chla)<- c("fct_inorder.MY.", "chla")
chla <- full_join(cavg_chla, savg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, oavg_chla, by = c('fct_inorder.MY.'))
View(chla)
oavg_chla <- oavg_chla[-c(1:9), ]
oavg_chla <- oavg_chla[-c(2:9), ]
chla <- full_join(chla, oavg_chla, by = c('fct_inorder.MY.'))
chla <- full_join(cavg_chla, savg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, oavg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
View(nitrogen)
#Combining nitrogen dataframes
cavg_n <- cfil_n %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_n <- ufil_n %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
savg_n <- sfil_n %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
gavg_n <- gfil_n %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_n)<- c("fct_inorder.MY.", "nitrogen")
colnames(uavg_n)<- c("fct_inorder.MY.", "nitrogen")
colnames(savg_n)<- c("fct_inorder.MY.", "nitrogen")
colnames(gavg_n)<- c("fct_inorder.MY.", "nitrogen")
nitrogen <- full_join(cavg_n, savg_n, by = c('fct_inorder.MY.'))
nitrogen <- nitrogen %>% mutate(nitrogen = coalesce(nitrogen.x,nitrogen.y)) %>%
select(`fct_inorder.MY.`, nitrogen)
nitrogen <- full_join(nitrogen, uavg_n, by = c('fct_inorder.MY.'))
nitrogen <- nitrogen %>% mutate(nitrogen = coalesce(nitrogen.x,nitrogen.y)) %>%
select(`fct_inorder.MY.`, nitrogen)
nitrogen <- full_join(nitrogen, gavg_n, by = c('fct_inorder.MY.'))
View(gavg_n)
View(gavg_n)
oavg_chla <- oavg_chla[-c(1:9), ]
#Taking averages and combining chlorophyll a dataframes
cavg_chla <- cfil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_chla <- ufil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
savg_chla <- sfil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
oavg_chla <- ofil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_chla)<- c("fct_inorder.MY.", "chla")
colnames(uavg_chla)<- c("fct_inorder.MY.", "chla")
colnames(savg_chla)<- c("fct_inorder.MY.", "chla")
colnames(oavg_chla)<- c("fct_inorder.MY.", "chla")
uavg_chla <- uavg_chla[-c(3:7), ]
oavg_chla <- oavg_chla[-c(1:9), ]
oavg_chla <- oavg_chla[-c(2:9), ]
chla <- full_join(cavg_chla, savg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, oavg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
View(chla)
gavg_n <- gavg_n[-c(1:9), ]
gavg_n <- gavg_n[-c(4:9), ]
nitrogen <- full_join(cavg_n, savg_n, by = c('fct_inorder.MY.'))
nitrogen <- nitrogen %>% mutate(nitrogen = coalesce(nitrogen.x,nitrogen.y)) %>%
select(`fct_inorder.MY.`, nitrogen)
nitrogen <- full_join(nitrogen, uavg_n, by = c('fct_inorder.MY.'))
nitrogen <- nitrogen %>% mutate(nitrogen = coalesce(nitrogen.x,nitrogen.y)) %>%
select(`fct_inorder.MY.`, nitrogen)
nitrogen <- full_join(nitrogen, gavg_n, by = c('fct_inorder.MY.'))
nitrogen <- nitrogen %>% mutate(nitrogen = coalesce(nitrogen.x,nitrogen.y)) %>%
select(`fct_inorder.MY.`, nitrogen)
#Combining salinity dataframes
cavg_sal <- cfil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_sal <- ufil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
bavg_sal <- bfil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_sal)<- c("fct_inorder.MY.", "salinity")
colnames(uavg_sal)<- c("fct_inorder.MY.", "salinity")
colnames(bavg_sal)<- c("fct_inorder.MY.", "salinity")
salinity <- full_join(cavg_sal, uavg_sal, by = c('fct_inorder.MY.'))
salinity <- full_join(salinity, bavg_sal, by = c('fct_inorder.MY.'))
View(salinity)
#Combining salinity dataframes
cavg_sal <- cfil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_sal <- ufil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
bavg_sal <- bfil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_sal)<- c("fct_inorder.MY.", "salinity")
colnames(uavg_sal)<- c("fct_inorder.MY.", "salinity")
colnames(bavg_sal)<- c("fct_inorder.MY.", "salinity")
salinity <- full_join(cavg_sal, bavg_sal, by = c('fct_inorder.MY.'))
View(bavg_sal)
bavg_sal <- bavg_sal[-c(1:2), ]
salinity <- full_join(cavg_sal, bavg_sal, by = c('fct_inorder.MY.'))
salinity <- salinity %>% mutate(salinity = coalesce(salinity.x,salinity.y)) %>%
select(`fct_inorder.MY.`, salinity)
salinity <- full_join(salinity, uavg_sal, by = c('fct_inorder.MY.'))
View(uavg_sal)
bavg_sal <- bavg_sal[-c(2:5), ]
#Combining salinity dataframes
cavg_sal <- cfil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_sal <- ufil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
bavg_sal <- bfil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_sal)<- c("fct_inorder.MY.", "salinity")
colnames(uavg_sal)<- c("fct_inorder.MY.", "salinity")
colnames(bavg_sal)<- c("fct_inorder.MY.", "salinity")
View(bavg_sal)
#Combining salinity dataframes
cavg_sal <- cfil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_sal <- ufil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
bavg_sal <- bfil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
View(bavg_sal)
salinity <- full_join(cavg_sal, bavg_sal, by = c('fct_inorder.MY.'))
colnames(cavg_sal)<- c("fct_inorder.MY.", "salinity")
colnames(uavg_sal)<- c("fct_inorder.MY.", "salinity")
colnames(bavg_sal)<- c("fct_inorder.MY.", "salinity")
salinity <- full_join(cavg_sal, bavg_sal, by = c('fct_inorder.MY.'))
bavg_sal <- bavg_sal[-c(1:2), ]
salinity <- full_join(cavg_sal, bavg_sal, by = c('fct_inorder.MY.'))
salinity <- salinity %>% mutate(salinity = coalesce(salinity.x,salinity.y)) %>%
select(`fct_inorder.MY.`, salinity)
uavg_sal <- uavg_sal[-c(2:5), ]
uavg_sal <- uavg_sal[-c(7:10), ]
uavg_sal <- uavg_sal[-c(13:15), ]
salinity <- full_join(salinity, uavg_sal, by = c('fct_inorder.MY.'))
salinity <- salinity %>% mutate(salinity = coalesce(salinity.x,salinity.y)) %>%
select(`fct_inorder.MY.`, salinity)
#Combining temperature dataframes
cavg_temp <- cfil_temp %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_temp <- ufil_temp %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
bavg_temp <- bfil_temp %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_temp)<- c("fct_inorder.MY.", "temperature")
colnames(uavg_temp)<- c("fct_inorder.MY.", "temperature")
colnames(bavg_temp)<- c("fct_inorder.MY.", "temperature")
temperature <- full_join(cavg_temp, bavg_temp, by = c('fct_inorder.MY.'))
View(temperature)
View(bavg_temp)
colnames(cavg_temp)<- c("fct_inorder.MY.", "temperature")
colnames(uavg_temp)<- c("fct_inorder.MY.", "temperature")
colnames(bavg_temp)<- c("fct_inorder.MY.", "temperature")
bavg_temp <- bavg_temp[-c(1:4), ]
temperature <- full_join(cavg_temp, bavg_temp, by = c('fct_inorder.MY.'))
temperature <- temperature %>% mutate(temperature = coalesce(temperature.x,temperature.y)) %>%
select(`fct_inorder.MY.`, temperature)
temperature <- full_join(temperature, uavg_temp, by = c('fct_inorder.MY.'))
View(uavg_temp)
ulb_temp <- read.csv("./PREP/grbulb_temp.csv", stringsAsFactors = TRUE)
ufil_temp <- ulb_temp[ , c("Month", "datavalue", "Year")]
ufil_temp$MoAb <- mymonths[ ufil_temp$Month ]
View(ufil_temp)
ufil_temp$MY <- paste(ufil_temp$MoAb, "-", ufil_temp$Year)
uavg_temp <- ufil_temp %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(uavg_temp)<- c("fct_inorder.MY.", "temperature")
temperature <- full_join(temperature, uavg_temp, by = c('fct_inorder.MY.'))
temperature <- full_join(cavg_temp, bavg_temp, by = c('fct_inorder.MY.'))
temperature <- temperature %>% mutate(temperature = coalesce(temperature.x,temperature.y)) %>%
select(`fct_inorder.MY.`, temperature)
temperature <- full_join(temperature, uavg_temp, by = c('fct_inorder.MY.'))
View(ulb_temp)
ulb_temp <- read.csv("./PREP/grbulb_temp.csv", stringsAsFactors = TRUE)
ufil_temp <- ulb_temp[ , c("Month", "datavalue", "Year")]
ufil_temp$MoAb <- mymonths[ ufil_temp$Month ]
ufil_temp$MY <- paste(ufil_temp$MoAb, "-", ufil_temp$Year)
uavg_temp <- ufil_temp %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(uavg_temp)<- c("fct_inorder.MY.", "temperature")
temperature <- full_join(cavg_temp, bavg_temp, by = c('fct_inorder.MY.'))
temperature <- temperature %>% mutate(temperature = coalesce(temperature.x,temperature.y)) %>%
select(`fct_inorder.MY.`, temperature)
temperature <- full_join(temperature, uavg_temp, by = c('fct_inorder.MY.'))
View(uavg_temp)
uavg_temp <- uavg_temp[-c(2:5), ]
uavg_temp <- uavg_temp[-c(7:9), ]
uavg_temp <- uavg_temp[-c(13:15), ]
temperature <- full_join(cavg_temp, bavg_temp, by = c('fct_inorder.MY.'))
temperature <- temperature %>% mutate(temperature = coalesce(temperature.x,temperature.y)) %>%
select(`fct_inorder.MY.`, temperature)
temperature <- full_join(temperature, uavg_temp, by = c('fct_inorder.MY.'))
temperature <- temperature %>% mutate(temperature = coalesce(temperature.x,temperature.y)) %>%
select(`fct_inorder.MY.`, temperature)
#combing nutrient dataframes with master dataframes
cmlnut <- full_join(cmlnut, chla, by = c('fct_inorder.MY.'))
#Taking averages and combining chlorophyll a dataframes
cavg_chla <- cfil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_chla <- ufil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
savg_chla <- sfil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
oavg_chla <- ofil_chla %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_chla)<- c("fct_inorder.MY.", "chla")
colnames(uavg_chla)<- c("fct_inorder.MY.", "chla")
colnames(savg_chla)<- c("fct_inorder.MY.", "chla")
colnames(oavg_chla)<- c("fct_inorder.MY.", "chla")
uavg_chla <- uavg_chla[-c(3:7), ]
oavg_chla <- oavg_chla[-c(1:9), ]
oavg_chla <- oavg_chla[-c(2:9), ]
chla <- full_join(cavg_chla, savg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, uavg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
chla <- full_join(chla, oavg_chla, by = c('fct_inorder.MY.'))
chla <- chla %>% mutate(chla = coalesce(chla.x,chla.y)) %>%
select(`fct_inorder.MY.`, chla)
#Combining nitrogen dataframes
cavg_n <- cfil_n %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_n <- ufil_n %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
savg_n <- sfil_n %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
gavg_n <- gfil_n %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_n)<- c("fct_inorder.MY.", "nitrogen")
colnames(uavg_n)<- c("fct_inorder.MY.", "nitrogen")
colnames(savg_n)<- c("fct_inorder.MY.", "nitrogen")
colnames(gavg_n)<- c("fct_inorder.MY.", "nitrogen")
gavg_n <- gavg_n[-c(1:9), ]
gavg_n <- gavg_n[-c(4:9), ]
nitrogen <- full_join(cavg_n, savg_n, by = c('fct_inorder.MY.'))
nitrogen <- nitrogen %>% mutate(nitrogen = coalesce(nitrogen.x,nitrogen.y)) %>%
select(`fct_inorder.MY.`, nitrogen)
nitrogen <- full_join(nitrogen, uavg_n, by = c('fct_inorder.MY.'))
nitrogen <- nitrogen %>% mutate(nitrogen = coalesce(nitrogen.x,nitrogen.y)) %>%
select(`fct_inorder.MY.`, nitrogen)
nitrogen <- full_join(nitrogen, gavg_n, by = c('fct_inorder.MY.'))
nitrogen <- nitrogen %>% mutate(nitrogen = coalesce(nitrogen.x,nitrogen.y)) %>%
select(`fct_inorder.MY.`, nitrogen)
#Combining phosphorus dataframes
cavg_p <- cfil_p %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_p <- ufil_p %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_p)<- c("fct_inorder.MY.", "phosphorus")
#Combining salinity dataframes
cavg_sal <- cfil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_sal <- ufil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
bavg_sal <- bfil_sal %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_sal)<- c("fct_inorder.MY.", "salinity")
colnames(uavg_sal)<- c("fct_inorder.MY.", "salinity")
colnames(bavg_sal)<- c("fct_inorder.MY.", "salinity")
bavg_sal <- bavg_sal[-c(1:2), ]
uavg_sal <- uavg_sal[-c(2:5), ]
uavg_sal <- uavg_sal[-c(7:10), ]
uavg_sal <- uavg_sal[-c(13:15), ]
salinity <- full_join(cavg_sal, bavg_sal, by = c('fct_inorder.MY.'))
salinity <- salinity %>% mutate(salinity = coalesce(salinity.x,salinity.y)) %>%
select(`fct_inorder.MY.`, salinity)
salinity <- full_join(salinity, uavg_sal, by = c('fct_inorder.MY.'))
salinity <- salinity %>% mutate(salinity = coalesce(salinity.x,salinity.y)) %>%
select(`fct_inorder.MY.`, salinity)
#Combining temperature dataframes
cavg_temp <- cfil_temp %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_temp <- ufil_temp %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
bavg_temp <- bfil_temp %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_temp)<- c("fct_inorder.MY.", "temperature")
colnames(uavg_temp)<- c("fct_inorder.MY.", "temperature")
colnames(bavg_temp)<- c("fct_inorder.MY.", "temperature")
bavg_temp <- bavg_temp[-c(1:4), ]
uavg_temp <- uavg_temp[-c(2:5), ]
uavg_temp <- uavg_temp[-c(7:9), ]
uavg_temp <- uavg_temp[-c(13:15), ]
temperature <- full_join(cavg_temp, bavg_temp, by = c('fct_inorder.MY.'))
temperature <- temperature %>% mutate(temperature = coalesce(temperature.x,temperature.y)) %>%
select(`fct_inorder.MY.`, temperature)
temperature <- full_join(temperature, uavg_temp, by = c('fct_inorder.MY.'))
temperature <- temperature %>% mutate(temperature = coalesce(temperature.x,temperature.y)) %>%
select(`fct_inorder.MY.`, temperature)
#Combining TSS dataframes
cavg_tss <- cfil_tss %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
uavg_tss <- ufil_tss %>%
group_by(fct_inorder(MY)) %>%
summarize_at(c("datavalue"), mean, na.rm = TRUE)
colnames(cavg_tss)<- c("fct_inorder.MY.", "tss")
colnames(uavg_tss)<- c("fct_inorder.MY.", "tss")
tss <- full_join(cavg_tss, uavg_tss, by = c('fct_inorder.MY.'))
tss <- tss %>% mutate(tss = coalesce(tss.x,tss.y)) %>%
select(`fct_inorder.MY.`, tss)
#combing nutrient dataframes with master dataframes
cmlnut <- full_join(cmlnut, chla, by = c('fct_inorder.MY.'))
View(cmlnut)
#Correcting column names from new column additions to cmlnut dataframe
colnames(cmlnut)<- c("fct_inorder.MY.", "Alex(Sum)", "Large_PN(Sum)", "Small_PN(Sum)",
"Alex(avg)", "Large_PN(avg)", "Small_PN(avg)", "chla", "nitrogen", "phosphorus", "salinity",
"temperature", "silica", "tss")
#combing nutrient dataframes with master dataframes
cmlnut <- full_join(cmlnut, chla, by = c('fct_inorder.MY.'))
cmlnut <- full_join(cmlnut, nitrogen, by = c('fct_inorder.MY.'))
cmlnut <- full_join(cmlnut, salinity, by = c('fct_inorder.MY.'))
cmlnut <- full_join(cmlnut, temperature, by = c('fct_inorder.MY.'))
cmlnut <- full_join(cmlnut, tss, by = c('fct_inorder.MY.'))
#Correcting cmlnut dataframe for new column additions
cmlnut <- subset( cmlnut, select = -tss.y )
cmlnut <- subset( cmlnut, select = -chla.x )
cmlnut <- subset( cmlnut, select = -nitrogen.x )
cmlnut <- subset( cmlnut, select = -salinity.x )
cmlnut <- subset( cmlnut, select = -temperature.x )
#Correcting column names from new column additions to cmlnut dataframe
colnames(cmlnut)<- c("fct_inorder.MY.", "Alex(Sum)", "Large_PN(Sum)", "Small_PN(Sum)",
"Alex(avg)", "Large_PN(avg)", "Small_PN(avg)", "phosphorus", "silica", "tss", "chla",
"nitrogen", "salinity", "temperature")
#Write completed nutrient csv file
write.csv(cmlnut,'CML_Nut.csv', row.names = FALSE)
